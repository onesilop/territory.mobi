@page
@model territory.mobi.Pages.DirectoryModel

@{
    Layout = "./Shared/_Publayout";
    ViewData["Title"] = "territory.mobi";
    ViewData["LeftTitle"] = Model.Cong.CongName;
}


<div id="dirItems" class="text-center p-2" >
    @foreach (var item in Model.Map.OrderBy(x => x.SortOrder))
    {
        <a class="btn btn-primary btn-med mb-1 h3 text-white dir-btn" asp-page="./Map" asp-route-CongName="@Model.Cong.CongName" asp-route-MapNo="@item.MapKey"><div class="h3">@Html.DisplayFor(modelItem => item.MapKey)</div></a>
    }
    @foreach (var sec in Model.Section.OrderBy(x => x.SortOrder))
    {
        if (sec.Maps.Count > 0) { 
<div class="sec-head mb-3">
    <div class="d-flex text-center bg-primary dir-sec mb-1 w-100"><div class="text-white text-center align-self-center h3">@Html.DisplayFor(modelItem => sec.SectionTitle)</div></div>

    @foreach (var map in sec.Maps.OrderBy(x => x.SortOrder))
    {
        <a class="btn btn-primary btn-med mb-1 h3 text-white dir-btn" asp-page="./Map" asp-route-CongName="@Model.Cong.CongName" asp-route-MapNo="@map.MapKey"><div class="h3">@Html.DisplayFor(modelItem => map.MapKey)</div></a>
    }
</div>
        }
    }
</div>
<div>
<hr />
    <a class="ml-4" asp-page="./Index">Congregations</a>
</div>
